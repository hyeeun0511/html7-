<!DOCTYPE html>
<html>
<head>
<title> JARDIN SHOP </title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="JARDIN SHOP" />
<meta name="keywords" content="JARDIN SHOP" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scaleable=no" />
<link rel="stylesheet" type="text/css" href="../css/reset.css?v=Y" />
<link rel="stylesheet" type="text/css" href="../css/layout.css?v=Y" />
<link rel="stylesheet" type="text/css" href="../css/content.css?v=Y" />
<script src="http://code.jquery.com/jquery-latest.min.js"></script>    <!--jquery최신:jquery구문 사용하려면 필요-->
<script type="text/javascript" src="../js/top_navi.js"></script>
<script type="text/javascript" src="../js/left_navi.js"></script>
<script type="text/javascript" src="../js/main.js"></script>
<script type="text/javascript" src="../js/common.js"></script>
<script type="text/javascript" src="../js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="../js/idangerous.swiper-2.1.min.js"></script>
<script type="text/javascript" src="../js/jquery.anchor.js"></script>

<script type="text/javascript">
$(function(){  //약식제이쿼리 구문
	
});//jquery
</script>
<style> a{cursor: pointer;}</style>  <!--cursor: pointer _ a의 커서를 손모양으로 만들으라는 의미-->
</head>
<body>



<!--//익스레이어팝업-->
<!--IE 6,7,8 사용자에게 브라우저 업데이터 설명 Div 관련 스크립트-->
 <script type="text/javascript">

     var settimediv = 200000; //지속시간(1000= 1초)
     var msietimer;

     $(document).ready(function () {
         msiecheck();
     });

     var msiecheck = function () {
         var browser = navigator.userAgent.toLowerCase();
         if (browser.indexOf('msie 6') != -1 ||
                browser.indexOf('msie 7') != -1 ||
				 browser.indexOf('msie 8') != -1) {
             msieshow();			 
         }
         else {
             msiehide();
         }
     }

     var msieshow = function () {
        $("#ieUser").show();
        msietimer = setTimeout("msiehide()", settimediv);
     }

     var msiehide = function () {
		$("#ieUser").hide();
        clearTimeout(msietimer);
     }
</script>

<div id="allwrap">
<div id="wrap">

	<div id="header">
		
		<div id="snbBox">
			<h1><img src="../images/txt/logo.gif" alt="JARDIN SHOP" /></h1>
			<div id="quickmenu">
				<div id="mnaviOpen"><img src="../images/btn/btn_mnavi.gif" width="33" height="31" alt="메뉴열기" /></div>
				<div id="mnaviClose"><img src="../images/btn/btn_mnavi_close.gif" width="44" height="43" alt="메뉴닫기" /></div>
				<ul>
					<li><a href="#">EVENT</a></li>
					<li><a href="#">CUSTOMER</a></li>
					<li><a href="#">COMMUNITY</a></li>
				</ul>
			</div>
			<div id="snb">
				<ul>
					<li><a href="#">LOGIN</a></li>
					<li><a href="#">JOIN</a></li>
					<li><a href="#">MY PAGE</a></li>
					<li><a href="#">CART</a></li>
				</ul>

				<div id="search">
					<input type="text" class="searchType" />
					<input type="image" src="../images/btn/btn_main_search.gif" width="23" height="20" alt="검색하기" />
				</div>
			</div>
		</div>
	</div>


	<!-- GNB -->
	<div id="gnb">
		
		<div id="top">
			<ul>
				<li class="brand t1"><a href="#" id="topNavi1">JARDIN’s BRAND</a>
					<ul id="topSubm1">
						<li><a href="#">클래스</a></li>
						<li><a href="#">홈스타일 카페모리</a></li>
						<li><a href="#">드립커피백</a></li>
						<li><a href="#">카페리얼 커피</a></li>
						<li><a href="#">오리지널커피백</a></li>
						<li><a href="#">카페리얼 음료</a></li>
						<li><a href="#">마일드커피백</a></li>
						<li><a href="#">워터커피</a></li>
						<li><a href="#">카페포드</a></li>
						<li><a href="#">모히또파티</a></li>
						<li><a href="#">테이크아웃 카페모리</a></li>
						<li><a href="#">포타제</a></li>
					</ul>
				</li>
				<li class="t2"><a href="#" id="topNavi2">원두</a>
					<ul id="topSubm2">
						<li><a href="#">클래스</a></li>
						<li><a href="#">로스터리샵</a></li>
						<li><a href="#">커피휘엘</a></li>
						<li><a href="#">산지별 생두</a></li>
					</ul>
				</li>
				<li class="t1"><a href="#" id="topNavi3">원두커피백</a>
					<ul id="topSubm3">
						<li><a href="#">드립커피 로스트</a></li>
						<li><a href="#">오리지널커피백</a></li>
						<li><a href="#">마일드커피백</a></li>
					</ul>
				</li>
				<li class="t2"><a href="#" id="topNavi4">인스턴트</a>
					<ul id="topSubm4">
						<li><a href="#">까페모리</a></li>
						<li><a href="#">홈스타일카페모리</a></li>
						<li><a href="#">포타제</a></li>
					</ul>
				</li>
				<li class="t1"><a href="#" id="topNavi5">음료</a>
					<ul id="topSubm5">
						<li><a href="#">까페리얼</a></li>
						<li><a href="#">워터커피</a></li>
						<li><a href="#">모히또</a></li>
					</ul>
				</li>
				<li class="t2"><a href="#" id="topNavi6">커피용품</a>
					<ul id="topSubm6">
						<li><a href="#">종이컵</a></li>
						<li><a href="#">커피필터</a></li>
						<li><a href="#">머신 등</a></li>
					</ul>
				</li>
				<li class="t1"><a href="#" id="topNavi7">선물세트</a></li>
				<li class="t2"><a href="#" id="topNavi8">대량구매</a></li>
			</ul>
		</div>

		<script type="text/javascript">initTopMenu();</script>
	</div>
	<!-- //GNB -->

	<!-- container -->
	<div id="container">

		<div id="location">
			<ol>
				<li><a href="#">HOME</a></li>
				<li><a href="#">EVENT</a></li>
				<li class="last">진행중 이벤트</li>
			</ol>
		</div>
		
		<div id="outbox">		
			<div id="left">
				<div id="title2">EVENT<span>이벤트</span></div>
				<ul>	
					<li><a href="#" id="leftNavi1">진행중 이벤트</a></li>
					<li><a href="#" id="leftNavi2">종료된 이벤트</a></li>
					<li class="last"><a href="#" id="leftNavi3">당첨자 발표</span></a></li>
				</ul>			
			</div><script type="text/javascript">initSubmenu(1,0);</script>


			<!-- contents -->
			<div id="contents">
				<div id="mypage">
					<h2><strong>진행중 이벤트</strong><span>쟈뎅샵의 특별한 혜택이 가득한 이벤트에 참여해 보세요.</span></h2>
					
					<div class="viewDivMt">
						<div class="viewHead">
							<div class="subject">
								<ul>
									<li>까페모리 봄바람 커피한잔 30% 할인 이벤트!!</li>
								</ul>
							</div>
							<div class="day">
								<p class="txt">이벤트 기간<span>2014-04-01 ~ 2014-04-29</span></p>
							</div>
						</div>

						<div class="viewContents">
							<img src="../images/img/sample_event_view.jpg" alt="" />
						</div>
					</div>


					<!-- 이전다음글 -->
					<div class="pnDiv web">
						<table summary="이전다음글을 선택하여 보실 수 있습니다." class="preNext" border="1" cellspacing="0">
							<caption>이전다음글</caption>
							<colgroup>
							<col width="100px" />
							<col width="*" />
							<col width="100px" />
							</colgroup>
							<tbody>
								<tr>
									<th class="pre">PREV</th>
									<td><a href="#">상품 재입고는 언제 되나요?</a></td>
									<td>&nbsp;</td>
								</tr>

								<tr>
									<th class="next">NEXT</th>
									<td>다음 글이 없습니다.</td>
									<td>&nbsp;</td>
								</tr>
							</tbody>
						</table>
					</div>
					<!-- //이전다음글 -->

					<script>
						//전역변수 (함수 밖에 있기 때문에)
						let cno = 1;  //바깥쪽 번호 선언(댓글 순서 번호)
						let flag = 0;
						let id;
						let cdate;
						let ccontent
						let cpw;

						$(function(){

							//keyCode함수
							$(".replyTxt").keyup(function(e){   //e:event아님
								console.log(e.keyCode);   //replyTxt가 하나뿐이라 this 필요없음
								if(e.keyCode == 13)   //keycode:13번 -> 엔터키 
									$(this).closest("ul").find(".replyBtn").click();  //replyBtn을 ul안에서 찾아서 클릭하라는 의미..?
							});//keyup

							//1.등록버튼 클릭함수
							$(".replyBtn").click(function(){  //alert("확인")으로 확인해보기
								let ul = $(this).closest("ul");
								// 댓글내용확인
								if (ul.find(".replyType").val().length<=0){    // 댓글 타이핑 갯수가 0개 이하일 경우 -> 알림창 뜸
									alert("댓글내용을 입력하셔야 저장이 가능합니다.");
									ul.find(".replyType").focus();  // 알람창이 뜨면 댓글로 포커스 감
									return;
								}
								//댓글정보
								
								id = "aaa";  //임의로 아이디 만들어 놓음
								cpw = ul.find(".replynum").val();
								ccontent = ul.find(".replyType").val();
								cdate = todayTime(); //날짜추가
								//댓글 출력
								let dataHtml =``;
								dataHtml +=`
									<ul id='${cno}'>
										<li class="name">${id} <span>[${cdate}]</span></li>
										<li class="txt">${ccontent}</li>
										<li class="btn">
											<a class="rebtn updateBtn">수정</a>
											<a class="rebtn deleteBtn">삭제</a>
										</li>
									</ul>
								`;
								
								//댓글리스트 앞에 추가
								$(".replyBox").prepend(dataHtml); //prepend : 앞에 넣는것
								cno++; //1증가
								// 댓글총개수 1증가
								//comment_count+1:댓글개수 +1 -> 카운트 됨
								c_count(1); //함수호출 - 댓글총개수 1증가
								ul.find(".replynum").val(""); //빈공백을 추가
								ul.find(".replyType").val("");
								alert("하단댓글을 저장합니다.");
							});//replyBtn

							//2.삭제버튼 클릭함수
							$(document).on("click",".deleteBtn",function(){ //document중에 deleteBtn을 찾아서 실행시켜줘 -> 새로입력한 댓글도 삭제버튼 눌림
								//alert("삭제")
								const ul = $(this).closest("ul");  //상수:값이 한번 정해지면 바뀌지않음
								console.log(ul.attr("id"));  //this:현재 위치점
								if(confirm(ul.attr("id")+"번 댓글을 삭제하시겠습니까?")){  //confirm으로 확인차 물어봄
									ul.remove();  //remove(삭제진행)
									c_count(2);   // 함수호출 - 삭제시 댓글총개수 1감소
								}
							});//deleteBtn

							//3.수정버튼 클릭함수
							$(document).on("click",".updateBtn",function(){
								if(flag !=0){  //flag !=0 : 
									alert("다른 댓글수정화면을 닫아야 수정이 가능합니다.");
									return;
								}
								alert("하단댓글을 수정합니다.")
								//alert("수정화면")  //버튼이 작동하는지 (팝업창으로)테스트
								const ul = $(this).closest("ul");  //상수:값이 한번 정해지면 바뀌지않음  //현재위치점 알아오는 것
								//id=cno->위치
								console.log(ul.attr("id"));   //console창에 ul속성의 id에있는 값을 가져옴
								// 데이터 가져오기 cno,id,cdate,ccontent
								id = ul.find(".name").text().split(" ")[0]    //공백으로 분리하고 0번째꺼 갖다달라는 것
								cdate = ul.find("span").text();
								ccontent = ul.find(".txt").text();

								let dataHtml = `
								<li class="name">${id} <span>${cdate}</span></li>
								<li class="txt"><textarea class="replyType">${ccontent}</textarea></li>
								<li class="btn">
									<a class="rebtn uSaveBtn">저장</a> 
									<a class="rebtn cancelBtn">취소</a>
								</li>
								`;
								//수정화면태그 입력
								$(this).closest("ul").html(dataHtml); //현재 위치점에 dataHtml이라는 태그를 넣는것
								flag = 1; //수정화면이 열림




							});//updateBtn

							//4.수정취소버튼 클릭함수
							$(document).on("click",".cancelBtn",function(){
								alert("수정취소버튼")
								const ul = $(this).closest("ul");
								console.log(ul.attr("id"));
								// 기존 저장되어 있는 데이터사용 -  id,cdate,ccontent
								let dataHtml = `
									<li class="name">${id} <span>${cdate}</span></li>
									<li class="txt">${ccontent}</li>
									<li class="btn">
										<a class="rebtn updateBtn">수정</a>
										<a class="rebtn deleteBtn">삭제</a>
									</li>
								`;
								ul.html(dataHtml);
								flag = 0; //수정화면이 닫힘

							});//cancelBtn

							//5.수정저장버튼 클릭함수
							$(document).on("click",".uSaveBtn",function(){   //$(document).on("click") : 버튼함수 클릭할때
								alert("댓글을 수정했습니다.")
								const ul = $(this).closest("ul");
								//수정댓글 가져오기
								console.log(ul.find(".replyType").val());
								cdate = todayTime(); //날짜추가
								ccontent = ul.find(".replyType").val();
								let dataHtml =`
									<li class="name">${id} <span>[${cdate}]</span></li>
									<li class="txt">${ccontent}</li>
									<li class="btn">
										<a class="rebtn updateBtn">수정</a>
										<a class="rebtn deleteBtn">삭제</a>
									</li>
								`;
								//ul에 태그 넣기
								ul.html(dataHtml)
								flag = 0; //수정화면이 닫힘

							});//uSaveBtn
						

							// 댓글 총개수 변경함수
							const c_count = function(flag){    //c_count = comment_count
								let comment_count = Number($(".comment_count").text());  //let:함수선언
								if(flag==1){
								$(".comment_count").text(comment_count+1);       //댓글추가 경우 (개수 증가)
								}else{      
								$(".comment_count").text(comment_count-1);       //댓글삭제 경우 (개수 감소)
								}
								
							}

							// 날짜시간함수    --> 함수이기때문에 바깥에 있어야함 (함수안에 함수를 넣는것X , 제이쿼리 함수안에 날짜시간함수를 넣을수없음)
							const todayTime = function(){
								let now = new Date(); //날짜객체선언
								let year = now.getFullYear();
								let month = now.getMonth()+1; //달: 0월,1월... -> +1을 해줘야 1월부터 시작함   *달만
								let day = now.getDate();   //getDay : 요일 -> 요일도 0(일),1(월),2(화),3(수)... 
								let hour = now.getHours();
								let minute = now.getMinutes();
								let second = now.getSeconds();
								return `${year}-${month}-${day} ${hour}:${minute}:${second}`;    //년-월-일 시:분:초
							}//todayTime

						});//jquery
					</script>
					<!-- 댓글-->
					<div class="replyWrite">
						<ul>
							<li class="in">
								<p class="txt">총 <span class="orange comment_count">0</span> 개의 댓글이 달려있습니다.</p>  <!--comment_count:댓글  갯수 ~ 클래스 하나 더 지정-->
								<p class="password">비밀번호&nbsp;&nbsp;<input type="password" class="replynum" /></p>  <!--비번-->
								<textarea class="replyType replyTxt"></textarea> <!--댓글 .. 클래스가 두개_replyTxt 넣었다고 replyType없애면 에러남-->  
							</li>
							<li class="btn">
								<a class="replyBtn">등록</a>
							</li>
						</ul>
						<p class="ntic">※ 비밀번호를 입력하시면 댓글이 비밀글로 등록 됩니다.</p>
					</div>

					<div class="replyBox">
						<!--댓글리스트-->
						
						<!-- 댓글 수정 -->
						<!--
							<ul>
								<li class="name">jjabcde <span>[2014-03-04&nbsp;&nbsp;15:01:59]</span></li>
								<li class="txt"><textarea class="replyType"></textarea></li>
								<li class="btn">
									<a class="rebtn uSaveBtn">수정저장</a> 
									<a class="rebtn cancelBtn">취소</a>
								</li>
							</ul>
							
							<ul>
								<li class="name">jjabcde <span>[2014-03-04&nbsp;&nbsp;15:01:59]</span></li>
								<li class="txt">
									<a href="password.html" class="passwordBtn"><span class="orange">※ 비밀글입니다.</span></a>
								</li>
							</ul>
							-->
					</div>
					<!-- //댓글 -->


					<!-- Btn Area -->
					<div class="btnArea">
						<div class="bRight">
							<ul>
								<li><a href="#" class="sbtnMini mw">목록</a></li>
							</ul>
						</div>
					</div>
					<!-- //Btn Area -->
					
				</div>
			</div>
			<!-- //contents -->


<script type="text/javascript" src="../js/jquery.fancybox-1.3.4.pack.js"></script>
<link rel="stylesheet" type="text/css" href="../css/jquery.fancybox-1.3.4.css" />
<script type="text/javascript">
$(function(){
	
	var winWidth = $(window).width();
	if(winWidth > 767){
		var layerCheck = 540;
	}else{
		var layerCheck = 320;
	}

	$(".passwordBtn").fancybox({
		'autoDimensions'    : false,
		'showCloseButton'	: false,
		'width' : layerCheck,
		'padding' : 0,
		'type'			: 'iframe',
		'onComplete' : function() {
			$('#fancybox-frame').load(function() { // wait for frame to load and then gets it's height
			$('#fancybox-content').height($(this).contents().find('body').height());
			});
		}
	});


});
</script>

		</div>
	</div>
	<!-- //container -->




	<div id="footerWrap">
		<div id="footer">
			<div id="fnb">
				<ul>
					<li class="left"><a href="#">개인정보취급방침</a></li>
					<li><a href="#">이용약관</a></li>
					<li class="left"><a href="#">이메일무단수집거부</a></li>
					<li><a href="#">고객센터</a></li>
					<li class="left brand"><a href="#">쟈뎅 브랜드 사이트</a></li>
				</ul>
			</div>
			
			<div id="finfo">
				<div id="flogo"><img src="../images/txt/flogo.gif" alt="JARDIN THE COFFEE CREATOR, SINCE 1984" /></div>
				<address>
					<ul>
						<li>㈜쟈뎅</li>
						<li>대표자 윤영노</li>
						<li class="tnone">주소 서울시 강남구 논현동 4-21번지 영 빌딩</li>
						<li class="webnone">소비자상담실 02)546-3881</li>
						<li>사업자등록번호 211-81-24727</li>
						<li class="tnone">통신판매신고 제 강남 – 1160호</li>
						<li class="copy">COPYRIGHT © 2014 JARDIN <span>ALL RIGHTS RESERVED.</span></li>
					</ul>
				</address>

				<div id="inicis"><img src="../images/ico/ico_inicis.png" alt="이니시스 결제시스템" /></div>
			</div>
		</div>
	</div>



</div>
</div>
</body>
</html>