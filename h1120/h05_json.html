<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <title>학생성적프로그램</title>
    <style>
        table,th,td{border:1px solid black; border-collapse: collapse;}
        th,td{width:100px; height:40px; text-align: center; }
    </style>
    <script>
        //자바스크립트 구문이 너무 길고, 어려움 -> 쉽게 하기위해 제이쿼리사용
        //stus.json 파일을 ajax에 연결
        $(function(){
            $("#takeBtn").click(function(){
                //alert("확인")
                $.ajax({
                    url:"stus.json",            // 연결할 주소
                    type:"get",        // 전송방식 - get,post
                    dataType:"json",   // 전송받을 타입 - text,html,json,xml
                    data:{},           // 보낼데이터
                    success:function(data){   //성공시
                        alert("성공");
                        console.log(data);
                        // `` : 자바스크립트 변수를 추가할수 있음. ${변수}
                        let dataHtml = ``;
                        //10번반복
                        for(let i=0;i<10;i++){ //for문 안에 넣어야 10번 반복 마지막<td></td>:비고
                            dataHtml +=`
                            
                        <tr>
                            <td>${data[i].sno}</td>
                            <td>${data[i].name}</td>
                            <td>${data[i].kor}</td>
                            <td>${data[i].eng}</td>
                            <td>${data[i].math}</td>
                            <td>${data[i].total}</td>
                            <td>${data[i].avg}</td>
                            <td></td>
                        </tr>
                        `;
                        }

                        $("#tbody").html(dataHtml);
                    },
                    error:function(){ //실패시
                        alert("실패");

                    }
                });//ajax(함수)구문
            });//click
        });//jquery구문

        // document.querySelector("takeBtn").addEventListener   //자바스크립트  //자바스크립트,제이쿼리 둘다 사용 가능

        
        

        
        
        
        /*
        $(function(){
            $("#takeBtn").click(function(){  //버튼을 클릭했을때
                $.ajax({
                    url:"stus.json", //주소  //끝에 , 찍어줘야함
                    type:"get", //get타입
                    data:{},
                    dataType:"json",
                    success:function(data){  // 성공 시
                    alert("성공");        // "성공" 창 뜸
                    console.log(data);
                    
                    var dataHtml = ``;
                    for(var i=0;i<data.length;i++){   //선언(var)  //for문
                    /*
                    <tr id="${data[i].sno}"> : 위치값(수정 시 필요)
                        - sno(학생_번호).name.kor.eng.math.total.avg
                        button type="button" 입력해야 버튼이 실행됨
                        - 학생 정보 수정,삭제 버튼
                        */
                        /*
                        dataHtml += `
                        <tr id="${data[i].sno}">
                            <td>${data[i].sno}</td>
                            <td>${data[i].name}</td>
                            <td>${data[i].kor}</td>
                            <td>${data[i].eng}</td>
                            <td>${data[i].math}</td>
                            <td>${data[i].total}</td>
                            <td>${data[i].avg}</td>
                            <tr>
                                <button type="button" id="uBtn">수정</button>
                                <button type="button" id="uBtn">삭제</button>
                            </td>
                        </tr>
                        `;
                        
                    }
                    //단순for문(반복문) - 배열일때만 가능  
                    for(var i of data){
                        
                }
                
                $("#tbody").html(dataHtml);
                
            }
        })
    })
    
});//jquery
*/
    
    
</script>
</head>
<body>
    <button type="button" id="takeBtn">데이터 가져오기</button>
    <form action="#" method="get">  <!--버튼을 눌렀을때 #으로 전달 : 지금으로서는 없어도 상관없지만 나중에 필요함-->
        <label>번호</label>
        <input type="text" id="sno" name="sno"><br>
        <label>이름</label>
        <input type="text" id="name" name="name"><br>
        <label>국어</label>
        <input type="text" id="kor" name="kor"><br>
        <label>영어</label>
        <input type="text" id="eng" name="eng"><br>
        <label>수학</label>
        <input type="text" id="math" name="math" onkeyup="enterBtn(event)" ><br>
        <button type="button" id="sbtn" onclick="saveBtn()" >성적저장</button>
    </form>
    <table>
        <tr>
            <th>번호</th>
            <th>이름</th>
            <th>국어</th>
            <th>영어</th>
            <th>수학</th>
            <th>합계</th>
            <th>평균</th>
            <th>비고</th>
        </tr>
        <tbody id="tbody">
           
            
        </tbody>

    </table>
   
   
</body>
</html>